@forward 'Components/reset';
@forward 'Components/font-faces';
@forward 'Components/properties';

//Pages
@forward 'Pages/preloader.scss';
@forward 'Pages/header.scss';
@forward 'Pages/footer.scss';
@forward 'Pages/nav.scss';
@forward 'Pages/contact.scss';


@mixin container(){
    max-width: clamp(80%, 85vw, 110rem);
    margin-inline: auto;
}

@mixin flex($direction, $gap){
    display: flex;
    flex-direction: $direction;
    gap: $gap;
}

@mixin grid($fit, $min, $max, $gap){
    display: grid;
    grid-template-columns: repeat($fit, minmax($min, $max));
    gap: $gap;
}

body{
    background-color: var(--dm-bg);
    font-family: 'Okine-Thin';
    color: white;
    overflow-x: hidden;
}

//Hero section
.hero{
    @include container();
    @media screen and (max-width: 600px) { padding-top: calc(5rem + 5dvw); }
    position: relative;
    max-height: 100dvh;
    overflow: hidden;

    & .wrapper{
        position: sticky;
        top: 0;
        left: 0;
        z-index: -1;
    }

    h1{
        font-size: clamp(calc(var(--fs-body3) + 2dvw), 16vw, var(--fs-display));
        font-family: 'Okine-Black';
        color: transparent;
        -webkit-text-stroke: 6px var(--dm-primary);
        @media screen and (max-width: 1000px) {-webkit-text-stroke: 2px var(--dm-primary);}

        & .img{
            display: inline-block;
            position: relative;


            &::before{
                position: absolute;
                padding-top: 1.2em;
                inset: 0;
                content: '';
                background-image: url(/public/old\ dp.jpg);
                background-repeat: no-repeat;
                clip-path: circle();
                background-position: center;
                background-size: contain;
            }
        }
    }

    .subHeading{
        font-size: clamp(calc(var(--fs-body3) + 1dvw), 12vw, 14.375rem);
        font-family: 'Okine-Black';
        line-height: 1.3;
        white-space: nowrap;
        color: var(--dm-text);
    }

    &__bottom{
        display: flex;
        align-items: center;
        gap: 1rem;
        justify-content: space-between;
        padding-top: calc(1em + 2.5dvw);
        @media screen and (max-width: 600px) { padding-block: calc(10rem + 5dvw); }

        &--scrollTo{
            border: 2px solid var(--dm-primary);
            border-radius: 50%;
            padding: min(3dvw, 1.5em);

            & svg{
                height: clamp(25px, 3vw, 40px);
                width: clamp(25px, 3vw, 40px);
                animation: down-arrow 500ms linear infinite alternate;
            }
        }
    }

}

//Wrapper to make the parallax effect work
.bg-wrapper{background-color: var(--dm-bg); position: relative; z-index: -1;}

//intro section
.intro{
    @include container();
    padding-block: calc(5em + 10dvw) calc(10em + 10dvw);
    
    @media screen and (min-width: 1400px) { @include flex(row, calc(.5rem + 2dvw)); justify-content: space-between; }

    & p{
        font-size: clamp(var(--fs-body2), 10vw, calc(var(--fs-heading3) + 1dvw));
        font-family: 'Okine-Thin';
        max-width: 15ch;
        position: relative;
        
        span{font-family: 'Okine-Light'}
    }

    img{
        object-fit: cover;
        border-radius: 1rem;
        opacity: .7;
        width: 100%;
        height: 100%
        
    }

}

//Skills section
.skills{
    @include container();
    padding-block: 3em calc(10em + 10dvw);
    @media (width > 800px) and (width < 1500px) { padding-top: calc(5em + 10dvw) }

    h2{
        font-size: clamp(calc(var(--fs-heading3) - 5dvw), 10dvw, var(--fs-heading2));
        font-family: 'Okine-Medium';
        padding-bottom: 1.5rem;
    }

    p{
        max-width: 30ch;
        line-height: 1.5;
        font-size: clamp(var(--fs-body), 10dvw, calc(var(--fs-body) + .25dvw));

        &:first-of-type{padding-bottom: 1rem}
    }

    &__list{padding-top: 6em}

    h3{
        font-size: clamp(calc(var(--fs-body2) + 2dvw), 10dvw, var(--fs-heading3));
        font-family: 'Okine-Regular';
        text-align: center;
        color: var(--dm-primary);

        &:first-of-type{padding-bottom: calc(1.5em + 3dvw);}
        &:not(:first-of-type){
            border-top: 1px solid var(--neutral-500);
            padding-block: calc(1.5em + 3dvw);
        }
    }

    @media screen and (min-width: 800px) {
        @include flex(row, 1rem);
        justify-content: space-between;

        &__desc{
            max-width: max-content;
            position: sticky;
            top: 0;
            align-self: start;
        }

        &__list{
            width: 50%;
            padding-top: .75rem
        }
    }
}

//Projects section
.projects{
    @include container();
    padding-block: calc(5em + 5dvw) calc(10em + 10dvw);

    h2{
        font-size: clamp(calc(var(--fs-body3) + 3dvw), 10vw, var(--fs-heading2));
        font-family: 'Okine-Medium';
        padding-block: 2rem 10rem;
        text-transform: uppercase;
    }

    h3{
        text-decoration: none; 
        font-family: 'Okine-Regular';
        font-size: clamp(calc(var(--fs-body) + 1dvw), 7vw, var(--fs-heading3));
        position: relative;
    }

    a{
        text-decoration: none;
        color: var(--secondary);
        font-family: 'Okine-Regular';
        display: inline-flex;
        align-items: center;
        gap: .75rem;
        font-size: clamp(var(--fs-caption), 5dvw, calc(var(--fs-body) + .15dvw));

        &:hover{ color: var(--accent);}

        & svg{
            height: 13px;
            width: 13px;
        }
    }

    p{
        font-size: clamp(var(--fs-caption), 3dvw, var(--fs-body2));
        text-align: center;
        @media screen and (max-width: 640px) {width: min-content}
    }

    &__contents{
        color: var(--dm-primary);
        @include flex(row, 1rem);
        @media screen and (max-width: 450px) { flex-direction: column; gap: 2rem;}
        align-items: center;
        justify-content: space-between;
        padding: calc(5em + 10dvw) 2vw;
        border-top: 1px solid var(--neutral-100);

        &:not(:first-child){border-bottom: 1px solid var(--neutral-100)}
        &:not(:hover){opacity: .7}
    }
}

//Contact Page
.contact-page{
    @include container();

    h1{
        font-size: clamp(var(--font-size-300), 9vw, var(--font-size-900));
        font-family: 'Okine-Black';
        margin-block: 8vw 15vw;

        span{font-family: 'Okine-Black-Outline';}
    }

    .form-group{
        @include flex(column, 1rem);
        padding-block: 3rem;
        border-top: 1px solid rgba(255 255 255 / 0.5);
    }

    label{
        padding-left: 1.5rem;

        span{
            display: inline-block;
            padding-left: .25rem;
            animation: question-mark 700ms ease-in-out infinite alternate;
        }
    }

    input,textarea{
        padding: 1rem 1.5rem;
        background-color: transparent;
        border: 0;
        color: white;

        &::-webkit-input-placeholder, &::-moz-placeholder{
            color: white;
        }
    }

    textarea{resize: none;}

    button{
        width: 100%;
        @include flex(row, 1rem);
        align-items: center;
        justify-content: center;
        padding-block: .65rem;
        background-color: transparent;
        border: 1px solid var(--clr-dm-primary);
        color: white;
        cursor: pointer;
        transform: translateY(0);
        transition: transform 300ms ease-in-out;

        img{
            transform: translateX(0);
            transition: transform 300ms ease-in-out;
        }

        &:hover, &:focus, &:active{
            box-shadow: 2px 3px 0 var(--clr-dm-primary);
            transform: translateY(-3px);
            img{transform: translateX(5px)}
        }
    }

    form{padding-bottom: 6rem; border-bottom: 1px solid rgba(255 255 255 / 0.5);}

    a, p{
        text-decoration: none; 
        font-family: 'Okine-Light';
    }

    p{padding-bottom: 1rem;}

    &__links{
        padding-block: 5rem;

        h2{
            font-size: clamp(var(--font-size-250), 10%, var(--font-size-300));
            font-family: 'Okine-Regular';
            padding-block: 1.5rem;
        }

        & a{
            position: relative;
            
            &::after{
                position: absolute;
                content: '';
                width: 0%;
                height: 2px;
                left: 1rem;
                bottom: -3px;
                background-color: var(--clr-dm-accent);
                transition: width 300ms ease-in-out;

            }

            &:hover, &:focus{
                font-family: 'Stardom';
                &::after{width: 15%;}
            }
        }

        &--socials{
            padding-bottom: 3rem;
            @include flex(column, 1rem)
        }
    }
}

//About Page
.about-page{
    @include container();

    h1{
        font-size: clamp(calc(var(--fs-body3) + .75dvw), 10vw, var(--fs-heading));
        font-family: 'Okine-Black';
        padding-block: 1em;
        span{
            color: transparent;
            -webkit-text-stroke: 3px var(--dm-txt);
        }
    }

    h2:not(.contact h2){
        font-size: clamp(var(--fs-body2), 8vw, var(--fs-heading2));
        font-family: 'Okine-Medium';
        padding-block: .25em;
        color: var(--dm-primary);
    }

    h3{
        font-size: clamp(calc(var(--fs-body) + .75dvw), 5.5vw, var(--fs-heading3));
        font-family: 'Okine-Regular';
        padding-block: 1.5rem;
        color: var(--dm-primary);
        display: inline-flex;
        gap: 1rem;
        align-items: center;
    }

    &__profile{
        padding-block: 3em calc(10em + 10dvw);
        max-height: 130dvh;
        position: relative;
        overflow: hidden;

        & .wrapper{
            position: sticky;
            left: 0;
            top: 0;
            z-index: -1;
        }

        

        & p{
            font-size: clamp(var(--fs-body), 3vw, var(--fs-body2));
            font-family: 'Okine-Light';
            max-width: 80ch;

            &:nth-child(1){padding-block: 2rem;}
        }
    } 

    &__design-style{
        padding-block: calc(2em + 3dvw);

        .flex{
            @include flex(column, 1rem);

            @media screen and (min-width: 1250px) {
                max-width: 90%;
                margin-right: auto;
                flex-direction: row;
                justify-content: space-between;
            }
        }
        
        & p{
            font-size: clamp(calc(var(--fs-body) + .05em), 2dvw, var(--fs-body2));
            padding-top: 1.5em;
            max-width: 35ch;
        }

        span{color: var(--secondary);}

        &--sample{
            padding-block: calc(7em + 8dvw);
            @media screen and (max-width: 1250px) {
                @include flex(row, 2rem);
                align-items: center;
                justify-content: center;
            }
        }

        .img-placeholder{
            height: clamp(calc(8rem  + 5dvw), 18dvw ,calc(15em + 15dvw));
            width: clamp(calc(9.8rem  + 5dvw), 23dvw ,calc(15em + 15dvw));

            @media screen and (width > 500px) and (width < 1250px) {
                height: calc(10rem + 10dvw);
                width: calc(15rem + 15dvw);
            }

            background-image: url(../assets/Huy.png);
            background-size: contain;
            background-repeat: no-repeat;
            position: relative;
            margin-top: auto;

            &::before{
                position: absolute;
                content: '';
                height: 100%;
                width: 100%;
                background-image: url(../assets/Bright.png);
                background-size: contain;
                background-repeat: no-repeat;
                top: calc(-2rem + -6dvw);
                left: calc(-2rem + -4dvw);
                z-index: -1;
            }

            &::after{
                position: absolute;
                content: '';
                height: 100%;
                width: 100%;
                background-image: url(../assets/Vucko.png);
                background-size: contain;
                background-repeat: no-repeat;
                top: calc(2rem + 7dvw);;
                left: calc(2rem + 5dvw);
                z-index: 2;
            }
        }
    }

    &__niche{
        padding-block: calc(3em + 2dvw);

        & > p:first-of-type{
            padding-block: 3rem calc(3rem + 3dvw);
            span{color: var(--secondary);}
        }

        &--label{
            padding-block: calc(2em + 3dvw) 2em;
            font-size: clamp(calc(var(--fs-body) + .1em), 5dvw, calc(var(--fs-body3) + .5em));
            font-family: 'Okine-Regular';
            color: var(--dm-txt);

            $i: 0;
            @for $i from 1 through 3{
                & span:nth-child(#{$i}){
                    display: inline-block;
                    animation: dots 1s ease-in-out infinite alternate both;
                    animation-delay: calc(100ms * ($i * 3));
                }
            }
        }

        &--field{
            @include flex(column, 2rem);
            justify-content: space-between;

            @media screen and (min-width: 1000px) {
                flex-direction: row; 
                & > div{
                    flex: 1
                }
            }
        }
    }

}

//Works Page
.works-page{
    @include container();

    h1{
        font-size: clamp(var(--font-size-300), 7.5vw, var(--font-size-900));
        font-family: 'Okine-Black';
        padding-block: 8vw 15vw;
        border-bottom: 1px solid rgba(255 255 255 / 0.5);

        span{font-family: 'Okine-Black-Outline';}
    }

    h2{
        font-size: clamp(var(--font-size-250), 8vw, var(--font-size-800));
        font-family: 'Okine-Regular';
        margin-block: 10vw;
        position: relative;
    }

    h3{
        font-size: clamp(var(--font-size-250), 1.5vw, var(--font-size-300));
        font-family: 'Okine-Light';
        padding-block: 1.5rem;
        border-bottom: 1px solid rgba(255 255 255 / 0.5);
    }

    .desktop-img{display: none;}
    .mobile-img{object-fit: contain;}

    .info-data{
        padding-bottom: 5rem;

        &__paragraphs{@include flex(row, 2rem); justify-content: space-between; padding-top: 1.5rem;}
    }

    &__details{
        &--label{display: none;}

        &--info{padding-bottom: 5rem;}
    }

    &__contact-me{
        margin-block: 10vw 15vw;
        @include flex(column, 1rem);
        align-items: center;

        & img{
            margin-bottom: 15vw;
            animation: down-arrow 1s ease-in-out infinite alternate;
        }
    }

    .work-link{
        text-decoration: none;
        color: var(--clr-dm-primary);
    }

    a:not(.work-link){
        text-align: center;
        text-decoration: none;
        font-size: clamp(var(--font-size-250), 4vw, var(--font-size-900));
        font-family: 'Stardom';
        position: relative;
        padding: 5vw 2.15rem;
        border-top: 1px solid rgba(255 255 255 / 0.5);
        border-bottom: 1px solid rgba(255 255 255 / 0.5);

        &:hover{
            background-color: black;
        }
    }
}

//Burger Menu
.burger{
    position: fixed;
    z-index: 9;
    top: 5dvh;
    right: 5dvw;
    background-color: var(--neutral-900);
    border-radius: 50%;
    transform: rotate(0);
    padding: .875rem;
    pointer-events: all;
    touch-action: all;
    border: 2px solid var(--neutral-500);

    svg{
        color:var(--neutral-100); 
        cursor: pointer;
        height: clamp(25px, 3vw, 40px);
        width: clamp(25px, 3vw, 40px);

        &:not(#logo):active{
            transform: rotate(180deg);
            transition: transform 200ms ease-in-out;
        }
    }
}

//Disable scrolling when nav is open
.disabled{
    pointer-events: none;
    touch-action: none;
    overflow: hidden;
}

//Loading animation fallback for Suspense
.loading-fallback{
    height: 80vh;
    width: 100vw;
    @include flex(row, 0);
    align-items: center;
    justify-content: center;
}

//Desktop Layouts
@media (min-width: 70em){
    .contact-page{
        &__container{@include flex(row, 20vw)}

        a,p{padding-left: 1rem;}

        form{flex: 1; border-bottom: 0; padding-bottom: 10rem;}

        h3{padding-top: 0;}

        &__links{padding-top: 0}
    }


    .works-page{
        .mobile-img{display: none;}
        .desktop-img{display: block; object-fit: contain;}
        .info-img__wrapper{height: 0;}

        h3{padding-top: 0}

        .info-data{
            cursor: pointer;
            padding: 2rem 3rem 3rem 3rem; 
            border-radius: 1rem;
            transition: background-color 500ms ease-in-out
        }

        &__details{
            &--wrapper{
                @include flex(row, 2rem); justify-content: space-between;
            }

            &--hover{
                height: 750px;
                overflow: hidden;

                .hover-anim{
                    & p{
                        height: 750px;
                        font-size: clamp(var(--font-size-300), 2vw, var(--font-size-900));
                        font-family: 'Okine-Black-Outline';
                        max-width: 10ch;
                        text-align: center;
                        padding-top: 50%;
                    }

                    position: relative;
                    
                }
            }


            &--info{
                order: -1;
                flex-basis: 50%;
                align-self: center;
            }
        }

    }
}

//To re-align the text inside the container
@media (width > 640px) and (width < 1200px){
    .projects__contents{
        flex-direction: column;
        text-align: center;
    }
}

//Down arrow animation
@keyframes down-arrow{
    from{transform: translateY(-1px);}
    to{transform: translateY(1px);}
}

//Contact page form-group question mark animation
@keyframes question-mark{
    from{transform: translateY(0);}
    to{transform: translateY(1px);}
}

//About page h3 dots animation
@keyframes dots{
    from{transform: translateY(0);}
    to{transform: translateY(-2px);}
}